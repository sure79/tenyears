<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>수비학 10년 운세 분석</title>
  <!-- Chart.js 라이브러리 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
  <style>
/* 기본 설정 */
body {
    font-family: 'Pretendard', 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
    background-color: #f0f2f5;
    color: #333;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    padding: 20px;
}
.container {
    max-width: 1000px;
    width: 100%;
    margin: 0 auto;
    background: white;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
}
h1 {
    font-size: 2.5rem;
    color: #1a237e;
    margin-bottom: 1em;
    font-weight: 700;
    text-align: center;
    letter-spacing: -0.02em;
}
.description {
    background: #f8f9fa;
    border-left: 4px solid #3498db;
    padding: 20px;
    margin: 30px 0;
    border-radius: 0 8px 8px 0;
    font-size: 1.1rem;
    line-height: 1.6;
}
.input-section {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    margin-bottom: 40px;
}
.input-group {
    display: flex;
    gap: 15px;
    align-items: flex-end;
    flex-wrap: wrap;
}
.input-field {
    flex: 1;
    min-width: 100px;
}
label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #2c3e50;
}
input {
    width: 90%;
    height: 50px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    font-size: 16px;
    padding: 0 15px;
    transition: all 0.3s ease;
}
input:focus {
    border-color: #3498db;
    box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
    outline: none;
}
button {
    background: linear-gradient(135deg, #3498db, #2980b9);
    color: white;
    height: 50px;
    padding: 0 30px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
}
button:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(52,152,219,0.3);
}
.social-links {
    margin-top: 50px;
    padding-top: 30px;
    border-top: 1px solid #eee;
    text-align: center;
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
}
.social-links a {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 15px 30px;
    border-radius: 10px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    min-width: 200px;
}
.social-link-shop {
    background: #1a237e;
    color: white;
}
.social-link-instagram {
    background: linear-gradient(45deg, #405DE6, #5851DB, #833AB4, #C13584, #E1306C, #FD1D1D);
    color: white;
}
.social-link-kakao {
    background: #FEE500;
    color: #000000;
}
.social-links a:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}
@media (max-width: 768px) {
    body {
        padding: 10px;
    }
    .container {
        padding: 20px;
    }
    h1 {
        font-size: 2rem;
    }
    .input-group {
        flex-direction: column;
    }
    .input-field {
        width: 100%;
    }
    button {
        width: 100%;
        margin-top: 10px;
    }
    .social-links {
        flex-direction: column;
        align-items: stretch;
        padding: 0 20px;
    }
    .social-links a {
        width: 100%;
    }
}



















    
}

/* 차트 컨테이너 */
.chart-container {
    margin: 40px 0;
    height: 500px;
    padding: 20px;
    background: white;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
}
/* 결과 그리드 스타일링 */
.result-grid {
    display: grid;
    gap: 25px;
    margin-top: 40px;
}
.result-item {
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    border: 1px solid #eee;
}
/* 결과 헤더 */
.result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #f0f2f5;
}
.result-header h3 {
    font-size: 1.4rem;
    color: #2c3e50;
    margin: 0;
}
/* 점수 뱃지 스타일 */
.score-badge {
    padding: 8px 16px;
    border-radius: 20px;
    font-weight: 700;
    font-size: 1.1rem;
}
.score-high {
    background-color: #4caf50;
    color: white;
}
.score-medium {
    background-color: #ff9800;
    color: white;
}
.score-low {
    background-color: #f44336;
    color: white;
}
/* 해석 섹션 */
.interpretation {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 12px;
    margin-top: 20px;
}
.interpretation h4 {
    color: #1a237e;
    margin-bottom: 15px;
    font-size: 1.2rem;
}
/* 키포인트 리스트 */
.key-points {
    list-style: none;
    padding: 0;
    margin: 15px 0;
}
.key-points li {
    padding: 10px 15px;
    margin-bottom: 10px;
    background: white;
    border-radius: 8px;
    border-left: 4px solid #3498db;
}
/* 상세 정보 섹션 */
.details-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-top: 20px;
}
.detail-item {
    padding: 15px;
    border-radius: 8px;
}
.detail-item.health {
    background: #e8f5e9;
    border-left: 4px solid #4caf50;
}
.detail-item.wealth {
    background: #fff3e0;
    border-left: 4px solid #ff9800;
}
.detail-item.relationship {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
}
.detail-item.love {
    background: #fce4ec;
    border-left: 4px solid #ec407a;
}
/* 조언 섹션 */
.advice {
    margin-top: 20px;
    padding: 15px;
    background: #ede7f6;
    border-radius: 8px;
    border-left: 4px solid #673ab7;
}

}
  </style>
</head>
<body>
  <div class="container">
    <h1>수비학 10년 운세 분석</h1>

    <div class="description">
      <p>
        <strong>이름 / 생년 / 월 / 일</strong>을 입력하시면,<br>
        <strong>2025년부터 2034년까지</strong> 당신의 10년 운세를 분석해드립니다.<br>
        그래프와 함께 <em>상세한 해석</em>과 <strong>애정운</strong> 정보도 확인해 보세요!
      </p>
    </div>

    <div class="input-section">
      <form onsubmit="calculateFortune(event)">
        <div class="input-group">
          
          <div class="input-field">
            <label for="userName">이름</label>
            <input type="text" id="userName" required placeholder="홍길동">
          </div>

          <div class="input-field">
            <label for="birthYear">생년</label>
            <input type="number" id="birthYear" required min="1900" max="2100" placeholder="1990">
          </div>

          <div class="input-field">
            <label for="month">월</label>
            <input type="number" id="month" required min="1" max="12" placeholder="월">
          </div>
          <div class="input-field">
            <label for="day">일</label>
            <input type="number" id="day" required min="1" max="31" placeholder="일">
          </div>
          <button type="submit">분석하기</button>
        </div>
      </form>
      <div id="error" class="error"></div>
    </div>

    <div class="chart-container">
      <canvas id="fortuneChart"></canvas>
    </div>

    <div id="resultGrid" class="result-grid"></div>

    <div class="social-links">
      <a href="https://niceple.com/" class="social-link-shop" target="_blank">
          수비학 자사몰 방문하기
      </a>
      <a href="https://www.instagram.com/niceple_tarot/" class="social-link-instagram" target="_blank">
          Instagram
      </a>
      <a href="https://pf.kakao.com/_Cgxcdn" class="social-link-kakao" target="_blank">
          카카오톡 채널
      </a>
    </div>
  </div>

  <script>
    /**********************************************************************
     * 1) 해운 해석 사전 (haeunInterpretations)
     *    - "fv/sv" 형태 키(예: "3/9")에 대한
     *      title/description/keyPoints/score/details + (love) 추가
     **********************************************************************/
const haeunInterpretations = {
  // ──────────────────────────────────────────
  // 0/5 ~ 9/14
  // ──────────────────────────────────────────
  '0/5': {
    title: '새로운 인간관계',
    description: '인간관계의 흐름이 막 시작되는 시기입니다. 첫걸음을 어떻게 내딛느냐에 따라 인연이 크게 달라집니다.',
    keyPoints: ['즉각적인 실행', '새로운 도움', '가벼운 모임 주도'],
    score: 65,
    details: {
      health: '무리한 일정 자제',
      wealth: '재물 안정',
      relationship: '새 인연 활발',
      love: '가벼운 소개팅이나 모임에서 만남 성사 가능'
    }
  },
  '1/6': {
    title: '인복과 발전',
    description: '사람들에게 사랑받고, 인복이 크게 작용하는 시기입니다. 지출이 늘어날 수 있으니 주의가 필요합니다.',
    keyPoints: ['인맥 확장', '소비 습관 주의', '감정 과잉 자제'],
    score: 70,
    details: {
      health: '정신건강 관리, 스트레스 해소가 관건',
      wealth: '지출 주의, 예산 관리 필요',
      relationship: '좋은 인연이 늘어날 가능성',
      love: '연인과의 긍정적 변화, 호감도 상승'
    }
  },
  '2/7': {
    title: '기다림과 이동',
    description: '외부 요인(이사, 직장 변화 등)으로 인해 이동이 생길 수 있는 시기입니다. 인내심을 키우는 것이 중요합니다.',
    keyPoints: ['압박 후 보상', '2가지 일 동시 진행', '예견된 이동'],
    score: 65,
    details: {
      health: '스트레스 관리, 휴식 필수',
      wealth: '안정적 수입, 그러나 갑작스런 지출 유의',
      relationship: '신중한 태도로 관계 이어가기',
      love: '이동으로 인한 새로운 만남 가능성'
    }
  },
  '3/8': {
    title: '만족과 인내',
    description: '결과 자체는 좋지만 체감이 늦을 수 있습니다. 서두르지 말고 인내심을 가지면 더 큰 만족으로 이어집니다.',
    keyPoints: ['결과는 긍정적', '인내 필요', '체감 지연'],
    score: 75,
    details: {
      health: '기본 체력만 잘 유지하면 문제 없음',
      wealth: '꾸준한 수입, 점차 증가 가능',
      relationship: '안정적인 관계지만 속도가 느림',
      love: '서서히 친밀해지는 연애운'
    }
  },
  '4/9': {
    title: '결정과 변화',
    description: '내가 주체가 되어 변화를 이끄는 시기입니다. 의욕이 높고 추진력이 강하지만, 주변 조율도 필요합니다.',
    keyPoints: ['주도적 태도', '적극적 변화', '실리 추구'],
    score: 80,
    details: {
      health: '운동과 스트레스 관리를 병행해야 함',
      wealth: '투자 기회 열릴 수 있으나 신중성 요구',
      relationship: '주도적 관계, 리더십 발휘',
      love: '연애 역시 주도적으로 이끌어가는 편이 유리'
    }
  },
  '5/10': {
    title: '인연과 운명',
    description: '귀인을 만나거나 큰 도움을 받을 수 있는 시기입니다. 협력과 팀워크가 핵심 포인트가 됩니다.',
    keyPoints: ['귀인 출현', '인복 상승', '협력 중시'],
    score: 75,
    details: {
      health: '스트레스 누적 주의, 틈틈이 휴식',
      wealth: '자금 흐름 원활, 과신은 금물',
      relationship: '협력 관계 형성이 잘 됨',
      love: '운명적 만남 또는 파트너십 등장'
    }
  },
  '6/11': {
    title: '선택과 공정',
    description: '다양한 선택지 앞에서 공정하고 정의로운 판단을 내려야 하는 시기입니다. 균형감이 중요합니다.',
    keyPoints: ['공정한 판단', '정의로운 선택', '균형 유지'],
    score: 70,
    details: {
      health: '관절 및 근골격계 신경쓰기',
      wealth: '정당한 수익, 윤리적 태도 필요',
      relationship: '객관성과 공정성 강조',
      love: '상대방과 공정한 관계 설정이 중요'
    }
  },
  '7/12': {
    title: '목적과 준비',
    description: '더 높은 목표를 향해 나아가는 준비 단계입니다. 무리한 확장보다는 꼼꼼한 계획이 필수입니다.',
    keyPoints: ['목적의식 확립', '준비 철저', '전략적 후퇴'],
    score: 65,
    details: {
      health: '근육통, 피로 누적 주의',
      wealth: '준비 자금 마련, 지출 예상',
      relationship: '전략적 접근으로 관계 조율',
      love: '연애도 장기적 시각 필요, 서두르지 말 것'
    }
  },
  '8/13': {
    title: '인내와 전환',
    description: '인내심이 요구되며, 새로운 전환점을 맞이합니다. 욕심보다는 착실함이 성패를 가릅니다.',
    keyPoints: ['인내가 필수', '변화 준비', '새로운 시작'],
    score: 60,
    details: {
      health: '만성질환, 체력 저하 유의',
      wealth: '장기 투자에 포커스',
      relationship: '안정적인 교류, 급변은 피함',
      love: '인내심으로 서서히 가까워지는 연애'
    }
  },
  '9/14': {
    title: '자연스러운 조화',
    description: '무리하지 않아도 자연스럽게 성과를 볼 수 있는 시기입니다. 흐름에 몸을 맡기되, 기본 관리가 중요합니다.',
    keyPoints: ['자연스러운 흐름', '균형 유지', '무리 금물'],
    score: 70,
    details: {
      health: '자연 치유 가능성, 과로는 금지',
      wealth: '안정된 흐름, 큰 변동 적음',
      relationship: '원만한 협력, 조화로운 분위기',
      love: '연애에서도 큰 갈등 없이 평온'
    }
  },

  // ──────────────────────────────────────────
  // 0/6 ~ 9/15
  // ──────────────────────────────────────────
  '0/6': {
    title: '새로운 인복',
    description: '새로운 인연과 예상치 못한 기회가 찾아올 수 있습니다. 다만 지출도 늘어날 가능성이 있으니 주의하세요.',
    keyPoints: ['새로운 사람, 관계 형성', '중요한 선택 신중함 요구', '과소비 자제'],
    score: 70,
    details: {
      health: '휴식과 컨디션 조절 필수',
      wealth: '소비 습관 개선 권장',
      relationship: '새로운 만남 속 좋은 파트너 찾기',
      love: '썸이나 소개팅 등으로 연애가 시작될 수도'
    }
  },
  '1/7': {
    title: '발전과 이동',
    description: '발전적인 변화나 이동이 있을 수 있는 시기입니다. 환경 변화(직장, 거주지 등)에 대한 대비가 필요합니다.',
    keyPoints: ['긍정적 변화', '이동 타이밍', '성과 도출'],
    score: 75,
    details: {
      health: '활동적 생활이 건강에 도움',
      wealth: '수입 증가 예상, 지출 관리 필요',
      relationship: '교류 활발, 친분 확장',
      love: '이동지나 새로운 환경에서 만나는 인연'
    }
  },
  '2/8': {
    title: '기다림과 인내',
    description: '계획보다 시간이 오래 걸리는 일이 많을 수 있습니다. 급하게 서두르지 말고 시기를 기다리세요.',
    keyPoints: ['시기 조절 핵심', '인내심 요구', '신중 결정'],
    score: 65,
    details: {
      health: '만성질환 관리, 규칙적 생활',
      wealth: '저축, 장기 예적금 등이 이로움',
      relationship: '조급함은 갈등 유발, 차분함 유지',
      love: '상대방과 서서히 가까워지는 단계'
    }
  },
  '3/9': {
    title: '풍요와 변화',
    description: '물질적 풍요와 함께 자연스러운 변화를 받아들이는 시기입니다. 나눔과 베품이 운을 상승시킵니다.',
    keyPoints: ['물질적 여유', '자연스러운 변화', '베풂 실천'],
    score: 80,
    details: {
      health: '영양 균형 신경쓰면 건강 향상',
      wealth: '풍요로운 재정, 투자 고려 가능',
      relationship: '원만한 관계로 이익 상승',
      love: '연인과의 관계에서도 순조롭게 발전'
    }
  },
  '4/10': {
    title: '결정과 운명',
    description: '중요한 결정을 내릴 때 운명적인 흐름이 있을 수 있습니다. 결단력이 필요한 시기입니다.',
    keyPoints: ['결정 시 운명적 의미', '운명적 만남 가능', '결단 부족 시 기회 손실'],
    score: 75,
    details: {
      health: '정신 건강 관리, 스트레스 해소법 찾기',
      wealth: '투자 기회, 판단력 요구',
      relationship: '운명적 파트너십 등장할 수도',
      love: '연애에서도 결단이 필요한 순간'
    }
  },
  '5/11': {
    title: '관계와 정의',
    description: '인간관계에서 옳고 그름에 대한 고민이 부각됩니다. 균형과 공정성을 강조하는 태도가 필요합니다.',
    keyPoints: ['공정성 요구', '균형 잡힌 태도', '윤리·도덕 중시'],
    score: 70,
    details: {
      health: '척추나 허리 건강 주의',
      wealth: '정당하게 벌고 바르게 쓰기',
      relationship: '공정한 자세로 신뢰도 상승',
      love: '애정관계에서도 서로 존중·배려 필수'
    }
  },
  '6/12': {
    title: '인복과 변화',
    description: '인복이 있지만, 주변 상황이 급변할 수 있습니다. 새로운 출발을 고민하거나 이전 단계를 마무리해야 할 수도 있습니다.',
    keyPoints: ['인연 변화', '새로운 시작 고려', '과도기 불안 대비'],
    score: 65,
    details: {
      health: '정신 건강 관리 중요, 스트레스 조절',
      wealth: '수입·지출 변동 폭 큼',
      relationship: '기존 관계 변하거나 새 관계 등장',
      love: '연애 상대가 바뀌거나 새로 생길 수 있음'
    }
  },
  '7/13': {
    title: '이동과 전환',
    description: '목적 있는 이동(프로젝트, 이직 등)과 함께 인생의 전환점이 될 수 있습니다. 큰 그림을 보고 준비하세요.',
    keyPoints: ['목적의식 중요', '큰 변화 가능', '새로운 시작 준비'],
    score: 75,
    details: {
      health: '체력 소모 많으니 영양 보충 필수',
      wealth: '수입 변화, 투자 기회도 있을 수 있음',
      relationship: '새 환경에서 사람들과의 교류 확대',
      love: '연애도 이동지에서 만난 인연이 좋은 결과'
    }
  },
  '8/14': {
    title: '인내와 조화',
    description: '인내를 통해 조화롭게 성장할 수 있습니다. 서두르지 않고 한 걸음씩 나아가면 좋은 결실을 얻습니다.',
    keyPoints: ['인내심 강조', '균형 발전', '서두르지 말기'],
    score: 70,
    details: {
      health: '꾸준한 운동과 식습관 개선이 효과적',
      wealth: '안정적 수입, 큰 변화는 적음',
      relationship: '안정감 주고받으며 협력 가능',
      love: '연인과는 서서히 깊어지는 관계'
    }
  },
  '9/15': {
    title: '변화와 욕망',
    description: '변화의 물결 속에서 욕심이 커질 수 있습니다. 과도한 욕망은 독이 될 수 있으니 조절이 필요합니다.',
    keyPoints: ['욕심 과하면 부작용', '균형 감각 필수', '변화 수용'],
    score: 65,
    details: {
      health: '정신적 긴장도 관리, 휴식 필요',
      wealth: '욕심이 커져 지출 폭주 주의',
      relationship: '과도한 기대는 갈등 유발',
      love: '연애에서도 지나친 소유욕, 질투 주의'
    }
  },

  // ──────────────────────────────────────────
  // 0/7 ~ 9/16
  // ──────────────────────────────────────────
  '0/7': {
    title: '새로운 모색',
    description: '새로운 분야를 탐색하거나, 더 넓은 시야로 기회를 찾는 시기입니다. 주변 조언이 큰 도움이 됩니다.',
    keyPoints: ['낯선 분야 시도', '지인·멘토 의견 중요', '도전은 즐기되 무리 금물'],
    score: 65,
    details: {
      health: '과로 조심, 기초 체력 유지',
      wealth: '안정적 지출 관리, 성급한 투자 삼가기',
      relationship: '주변에 유익한 조언자 많음',
      love: '새로운 인연을 모색하거나 취향이 맞는 사람 발견'
    }
  },
  '1/8': {
    title: '발전과 인내',
    description: '발전이 있지만, 동시에 인내심이 요구됩니다. 꾸준한 노력과 차분함으로 성과를 얻게 될 것입니다.',
    keyPoints: ['꾸준한 성장', '인내심이 성과 연결', '급하지 않게 진행'],
    score: 70,
    details: {
      health: '기초체력 중요, 무리 금물',
      wealth: '저축·투자에 신중, 재정 안정화 가능',
      relationship: '안정적 관계 유지, 충돌 적음',
      love: '연애에서도 서서히 발전, 단기적 성과 기대는 금물'
    }
  },
  '2/9': {
    title: '기다림과 변화',
    description: '때를 기다리며, 기회가 오면 자연스럽게 변화를 수용해야 합니다. 인내심이 가장 큰 무기가 될 것입니다.',
    keyPoints: ['인내심 강조', '자연스러운 변화 수용', '억지로 바꾸지 말기'],
    score: 70,
    details: {
      health: '정신 건강에 유의, 마음 여유 가지기',
      wealth: '안정적 수입, 큰 흔들림 없음',
      relationship: '자연스럽게 교류 범위 확장',
      love: '서서히 다가오는 인연, 성급히 재촉 금지'
    }
  },
  '3/10': {
    title: '풍요와 운명',
    description: '물질적 풍요와 함께 운명적인 사건이 있을 수 있는 시기입니다. 기회를 놓치지 않는 결단이 중요합니다.',
    keyPoints: ['물질적 풍요', '운명적 기회', '결단력 필수'],
    score: 85,
    details: {
      health: '전반적 건강 양호, 자만은 금물',
      wealth: '재물운 상승, 확장이나 투자 고려',
      relationship: '새로운 사람들과 유대 강화',
      love: '운명적 사랑을 만날 수 있는 가능성'
    }
  },
  '4/11': {
    title: '결정과 정의',
    description: '중요한 결정이 필요하며, 그 결정이 공정하고 정의로워야 더 큰 이익으로 이어집니다.',
    keyPoints: ['결정의 운명적 의미', '공정·정의 강조', '균형 잡힌 시각'],
    score: 75,
    details: {
      health: '신경계 예민 주의, 휴식 필수',
      wealth: '정당한 수익 구조 유지 시 안정',
      relationship: '공정성 덕에 신뢰감 상승',
      love: '연애에서도 서로에게 솔직·공정해야 관계 발전'
    }
  },
  '5/12': {
    title: '관계와 희생',
    description: '인간관계에서 양보와 희생이 필요할 수 있는 시기입니다. 갈등보다 협력을 택하면 장기적으로 유리합니다.',
    keyPoints: ['관계 조정', '양보·희생', '기다림의 미덕'],
    score: 65,
    details: {
      health: '심리적 피로 누적될 수 있으니 주의',
      wealth: '지출 급증 가능, 예비 자금 필요',
      relationship: '타협점 찾기, 갈등 해소',
      love: '서로를 위해 희생하고 배려하면 관계 깊어짐'
    }
  },
  '6/13': {
    title: '인복과 변화',
    description: '인복이 있지만 큰 변화가 함께 찾아올 수 있습니다. 새로운 출발을 준비하거나 이전 단계를 과감히 정리하세요.',
    keyPoints: ['귀인 도움', '큰 변화', '새로운 시작'],
    score: 70,
    details: {
      health: '면역력·체력 보강 필요',
      wealth: '재물 흐름이 바뀔 수 있음',
      relationship: '인연의 변화로 팀원 교체 가능',
      love: '연애 상대가 바뀌거나, 새로운 사랑이 열림'
    }
  },
  '7/14': {
    title: '이동과 조화',
    description: '목적 있는 이동(직업, 거주지 등)과 주변과의 조화를 동시에 추구해야 하는 시기입니다.',
    keyPoints: ['의미 있는 이동', '조화로운 발전', '타협·중재 능력 필요'],
    score: 80,
    details: {
      health: '혈액순환 및 순환기 관리',
      wealth: '이동 비용, 새 환경 대비',
      relationship: '새 인맥과 조화롭게 어울리기',
      love: '이동 후 새로운 로맨스가 꽃필 수도'
    }
  },
  '8/15': {
    title: '인내와 극복',
    description: '유혹이나 어려움을 이겨내야 하는 시기입니다. 인내심이 가장 큰 무기가 될 것입니다.',
    keyPoints: ['유혹·시험 대비', '인내로 극복', '자제력 훈련'],
    score: 60,
    details: {
      health: '만성 질환·피로 주의',
      wealth: '지출 충동 조절 필요',
      relationship: '갈등 시 신중한 태도',
      love: '잠시 시련이 있을 수 있으나 인내로 극복'
    }
  },
  '9/16': {
    title: '변화와 파괴',
    description: '기존 구조가 무너지고 급격한 변화가 올 수 있습니다. 재정비와 새로운 출발을 준비하세요.',
    keyPoints: ['필연적 변화', '구조조정', '새 출발 준비'],
    score: 55,
    details: {
      health: '사고 조심, 극심한 피로 누적',
      wealth: '재물 변동 가능성 높음(손실·지출)',
      relationship: '관계 정리·단절 가능',
      love: '연애도 한 번 크게 흔들릴 수 있음'
    }
  },

  // ──────────────────────────────────────────
  // 0/8 ~ 9/17
  // ──────────────────────────────────────────
  '0/8': {
    title: '새로운 인내',
    description: '새로운 출발과 함께 인내심이 강조되는 시기입니다. 속도보다는 내실이 중요합니다.',
    keyPoints: ['초반 시행착오', '인내로 안정화', '작은 성과 누적'],
    score: 60,
    details: {
      health: '기초체력·규칙적 생활 유리',
      wealth: '장기적 관점의 재정 계획',
      relationship: '신중한 태도로 신뢰 쌓기',
      love: '연애에서도 서두르지 말고 천천히 다가가기'
    }
  },
  '1/9': {
    title: '발전과 변화',
    description: '긍정적인 발전과 자연스러운 변화가 공존하는 시기입니다. 흐름을 잘 살리면 큰 이득을 볼 수 있습니다.',
    keyPoints: ['발전적 변화', '무리 없는 성과 창출', '안정적 성장'],
    score: 75,
    details: {
      health: '전반적 건강 양호, 다만 유연성 운동 권장',
      wealth: '꾸준한 수입, 투자 타이밍 고려',
      relationship: '자연스럽게 교류 확대',
      love: '연인과 관계가 성숙해지거나, 새로운 인연 순조롭게 진전'
    }
  },
  '2/10': {
    title: '기다림과 운명',
    description: '오랫동안 기다려온 어떤 기회가 운명적으로 찾아올 수 있습니다. 준비된 대응이 중요합니다.',
    keyPoints: ['기회 도래 시 순발력', '운명적 만남·제안', '조급함 대신 차분함'],
    score: 70,
    details: {
      health: '정신건강과 평정심 유지 필요',
      wealth: '타이밍 잘 잡으면 재물운 상승',
      relationship: '운명적 만남·계약 등',
      love: '오래 기다린 인연이 나타날 수 있음'
    }
  },
  '3/11': {
    title: '풍요와 정의',
    description: '물질적으로나 정신적으로 풍요롭고, 공정한 판단이 요구되는 시기입니다. 정의로운 태도가 더 큰 보상을 부릅니다.',
    keyPoints: ['물질적 풍요', '공정·정의 강조', '바른 태도 장기적 이득'],
    score: 85,
    details: {
      health: '건강 호전, 체력 강화 가능',
      wealth: '정당한 이익, 추가 수익도 기대',
      relationship: '균형 잡힌 관계로 신뢰↑',
      love: '애정 문제에서도 공정·솔직 중요'
    }
  },
  '4/12': {
    title: '결정과 희생',
    description: '중요한 결정을 내리는 시기이지만, 그만큼 희생과 인내가 뒤따를 수 있습니다. 쉽지 않지만 성장의 기회입니다.',
    keyPoints: ['결정 후 부담 증가', '인내심 필요', '고난 뒤 성과'],
    score: 65,
    details: {
      health: '스트레스 많음, 해소방안 마련',
      wealth: '투자·지출 신중 고려',
      relationship: '갈등 가능성 있지만 대화로 해결 가능',
      love: '연인에게 양보하거나 희생하는 상황'
    }
  },
  '5/13': {
    title: '관계와 변화',
    description: '인간관계에서 큰 변화가 나타나며, 과도기적 상황이 올 수 있습니다. 유연한 대처가 성공의 열쇠입니다.',
    keyPoints: ['관계 급변(이별·새 만남)', '재정비 필요', '불안은 자연스러움'],
    score: 60,
    details: {
      health: '정신적 스트레스가 클 수 있으니 유의',
      wealth: '재물 변동, 수입·지출 구조 점검',
      relationship: '관계 전환기, 갑작스런 이별 또는 합류 가능',
      love: '연애 상대가 바뀌거나, 새로운 사람과 급진전'
    }
  },
  '6/14': {
    title: '인복과 조화',
    description: '인복이 있고, 주위와 조화를 이루며 성장할 수 있는 시기입니다. 협력관계를 잘 활용하면 시너지 UP.',
    keyPoints: ['인복, 협력 체계 구축', '균형 발전, 과욕 금물', '상생·협력 강조'],
    score: 80,
    details: {
      health: '과도한 무리는 피하고 활동성 유지',
      wealth: '안정적 수입, 큰 지출만 조심',
      relationship: '조화로운 관계 맺기 유리',
      love: '애정운도 협력·대화로 깊어짐'
    }
  },
  '7/15': {
    title: '이동과 유혹',
    description: '환경을 바꾸거나 이동하고 싶은 욕구가 강해집니다. 동시에 유혹도 많을 수 있으니 판단을 잘해야 합니다.',
    keyPoints: ['목적성 강화', '유혹 경계', '신중 판단'],
    score: 70,
    details: {
      health: '중독·과한 유희 주의',
      wealth: '지출 혹은 투자 꼼꼼히 점검',
      relationship: '새 인연 생길 수 있지만 갈등도 잠재',
      love: '연애에 있어 외부 유혹/삼각관계 조심'
    }
  },
  '8/16': {
    title: '인내와 파괴',
    description: '크게 인내해야 할 일이 생기고, 기존 시스템이 무너질 수 있습니다. 재건과 재출발을 준비하세요.',
    keyPoints: ['강한 인내 요구', '급격한 변화', '재건 준비'],
    score: 50,
    details: {
      health: '사고·부상·심한 피로 위험',
      wealth: '예기치 못한 손실 가능',
      relationship: '단절·정리 각오해야 할 수도',
      love: '연애에도 위기, 서로 붙잡거나 결별할 기로'
    }
  },
  '9/17': {
    title: '변화와 희망',
    description: '큰 변화 속에서도 희망적인 요소가 보입니다. 서서히 회복하며 새로운 도약을 기대할 수 있습니다.',
    keyPoints: ['자연스러운 변화', '새로운 희망', '긍정적 전환'],
    score: 65,
    details: {
      health: '회복 기미, 컨디션 서서히 개선',
      wealth: '점진적 회복, 욕심은 금물',
      relationship: '새로운 시작 모색',
      love: '연애도 다시 희망 찾고 재출발 가능한 시기'
    }
  },

  // (추가) 0/9
  '0/9': {
    title: '새로운 흐름',
    description: '주변 상황이 빠르게 변하며, 이에 맞춰 본인도 유연하게 대응해야 하는 시기입니다.',
    keyPoints: ['급격한 환경 변화', '새로운 흐름 적응', '융통성 강조'],
    score: 65,
    details: {
      health: '컨디션 조절 필수, 과로 금물',
      wealth: '소비 계획 필수, 지출 급증 가능',
      relationship: '넓은 인맥 구축, 다양한 만남',
      love: '번개같은 설렘, 하지만 신중한 태도 유지'
    }
  }
};


    /**********************************************************************
     * 2) 기본 점수표 (first=0~9,10~17) / 조합 보너스 / ...
     **********************************************************************/
    const baseScores = {
      0: { score: 60, weight: 1.0 },
      1: { score: 70, weight: 1.1 },
      2: { score: 55, weight: 0.9 },
      3: { score: 80, weight: 1.2 },
      4: { score: 75, weight: 1.1 },
      5: { score: 65, weight: 1.0 },
      6: { score: 70, weight: 1.1 },
      7: { score: 75, weight: 1.2 },
      8: { score: 60, weight: 0.9 },
      9: { score: 65, weight: 1.0 },

      10: { score: 70, weight: 1.0 },
      11: { score: 75, weight: 1.1 },
      12: { score: 55, weight: 0.8 },
      13: { score: 50, weight: 0.7 },
      14: { score: 65, weight: 0.9 },
      15: { score: 45, weight: 0.6 },
      16: { score: 40, weight: 0.5 },
      17: { score: 60, weight: 0.8 }
    };

    // 특별 조합 (fv/sv) 보너스/페널티
    const specialCombinations = {
      '3/11': 10,
      '7/14': 5,
      '8/16': -15,
      '9/17': -10,
      '4/13': 8,
      '6/14': 7,
      '2/10': -5,
      '5/15': -8,
      '1/12': -3,
      '0/16': -12
    };

    /**********************************************************************
     * 3) 해운 점수 계산 함수
     **********************************************************************/
    function calculateHaeunScore(haeun, year) {
      const [first, second] = haeun.split('/').map(Number);
      if (!baseScores[first]) return 50; 
      let score = baseScores[first].score;
      score *= baseScores[first].weight;
      const secondEffect = Math.max(0.7, 1 - (second - 8) * 0.03);
      score *= secondEffect;
      const yearEffect = 1 + ((year % 10) * 0.02);
      score *= yearEffect;
      if (specialCombinations[haeun]) {
        score += specialCombinations[haeun];
      }
      return Math.max(0, Math.min(100, score));
    }

    /**********************************************************************
     * 4) 해운 해석
     **********************************************************************/
    function getDetailedInterpretation(haeun, score) {
      const base = haeunInterpretations[haeun] || {
        title: '해석 없음',
        description: '해당 해운에 대한 데이터가 없습니다.',
        keyPoints: [],
        details: {
          health: '정보 없음',
          wealth: '정보 없음',
          relationship: '정보 없음',
          love: '정보 없음'
        }
      };

      let advice = '';
      if (score >= 80) advice = '매우 좋은 시기입니다. 적극적으로 행동하세요.';
      else if (score >= 60) advice = '긍정적인 흐름입니다. 차분히 진행해 보세요.';
      else if (score >= 40) advice = '보통의 시기입니다. 신중하게 행동이 필요합니다.';
      else advice = '주의가 필요한 시기입니다. 무리하지 마세요.';

      return { ...base, advice };
    }

    /**********************************************************************
     * 5) 10년 치 해운 계산
     *    - fv/sv
     **********************************************************************/
    function calculateTenYearsFortune(startYear, month, day) {
      const results = [];
      for (let i = 0; i < 10; i++) {
        const currentYear = startYear + i;
        const haeunKey = calculateHaeun(currentYear, month, day);
        const score = calculateHaeunScore(haeunKey, currentYear);
        const interpretation = getDetailedInterpretation(haeunKey, score);

        results.push({
          year: currentYear,
          haeun: haeunKey,
          score,
          interpretation
        });
      }
      return results;
    }

    function calculateHaeun(year, month, day) {
      const total = year + month + day;
      let lastTwo = total % 100;
      let fv = (lastTwo > 21) ? (lastTwo % 10) : lastTwo;
      let sum = 0;
      for (let c of String(total)) {
        sum += parseInt(c, 10);
      }
      let sv = sum;
      return `${fv}/${sv}`;
    }

    /**********************************************************************
     * 6) 그래프(Chart.js) 표시
     **********************************************************************/
    function updateChart(data) {
      const ctx = document.getElementById('fortuneChart').getContext('2d');
      if (window.myChart) window.myChart.destroy();

      const gradient = ctx.createLinearGradient(0, 0, 0, 400);
      gradient.addColorStop(0, 'rgba(52, 152, 219, 0.3)');
      gradient.addColorStop(1, 'rgba(52, 152, 219, 0)');

      window.myChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: data.map(item => item.year + '년'),
          datasets: [{
            label: '해운 점수',
            data: data.map(item => item.score),
            borderColor: '#3498db',
            backgroundColor: gradient,
            fill: true,
            tension: 0.4,
            pointRadius: 6,
            pointHoverRadius: 8,
            borderWidth: 2
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false },
            tooltip: {
              backgroundColor: 'rgba(0, 0, 0, 0.8)',
              padding: 12,
              callbacks: {
                label: (context) => {
                  const item = data[context.dataIndex];
                  return [
                    `해운: ${item.haeun}`,
                    `점수: ${Math.round(item.score)}점`,
                    item.interpretation.title
                  ];
                }
              }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              max: 100,
              ticks: {
                callback: value => value + '점',
                stepSize: 10
              }
            }
          }
        }
      });
    }

    /**********************************************************************
     * 7) 결과 카드 표시
     **********************************************************************/
    function updateResultGrid(data) {
      const grid = document.getElementById('resultGrid');
      grid.innerHTML = '';

      data.forEach(item => {
        const scoreClass = item.score >= 80 ? 'score-high'
                           : item.score >= 60 ? 'score-medium'
                           : 'score-low';

        const div = document.createElement('div');
        div.className = 'result-item';
        div.innerHTML = `
          <div class="result-header">
            <h3>${item.year}년 운세</h3>
            <span class="score-badge ${scoreClass}">${Math.round(item.score)}점</span>
          </div>
          <div class="interpretation">
            <h4>${item.interpretation.title}</h4>
            <p>${item.interpretation.description}</p>
            <ul class="key-points">
              ${item.interpretation.keyPoints.map(point => `
                  <li>${point}</li>
              `).join('')}
            </ul>

            <div class="details-section">
              <div class="detail-item health">
                <strong>건강:</strong> ${item.interpretation.details.health}
              </div>
              <div class="detail-item wealth">
                <strong>재물:</strong> ${item.interpretation.details.wealth}
              </div>
              <div class="detail-item relationship">
                <strong>대인관계:</strong> ${item.interpretation.details.relationship}
              </div>
              <div class="detail-item love">
                <strong>애정운:</strong> ${item.interpretation.details.love || '정보 없음'}
              </div>
            </div>

            <div class="advice">
              <strong>조언:</strong> ${item.interpretation.advice}
            </div>
          </div>
        `;
        grid.appendChild(div);
      });
    }

    /**********************************************************************
     * 8) 메인 실행 함수 (폼 onsubmit)
     **********************************************************************/
    function calculateFortune(event) {
      event.preventDefault();

      // 입력값
      const userName = document.getElementById('userName').value.trim();
      const birthYear = parseInt(document.getElementById('birthYear').value);
      const month = parseInt(document.getElementById('month').value);
      const day = parseInt(document.getElementById('day').value);

      const error = document.getElementById('error');
      error.textContent = '';

      // 검증
      if (!userName) {
        error.textContent = '이름을 입력해주세요.';
        return;
      }
      if (!birthYear || birthYear < 1900 || birthYear > 2100) {
        error.textContent = '올바른 생년(1900~2100)을 입력해주세요.';
        return;
      }
      if (!month || month < 1 || month > 12) {
        error.textContent = '올바른 월(1~12)을 입력하세요.';
        return;
      }
      if (!day || day < 1 || day > 31) {
        error.textContent = '올바른 일(1~31)을 입력하세요.';
        return;
      }

      // 10년치 해운 계산 (2025~2034)
      const results = calculateTenYearsFortune(2025, month, day);

      // 차트 & 결과 표시
      updateChart(results);
      updateResultGrid(results);

      // (선택) 이름, 생년 등을 결과 화면 상단에 추가 표기할 수도 있음
      // 예: document.querySelector('.description').innerHTML += `<p>${userName}님(${birthYear}년생)의 10년 운세 결과입니다.</p>`;
    }
  </script>

</body>
</html>
